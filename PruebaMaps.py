# Las direcciones son puramente ficticias y no buscan molestar a nadie. La API tiene la capacidad de devolver
# información sobre un máximo de 24 direcciones.

answer = {
   "destination_addresses" : [
      "Av. Entre Ríos 865, A4400 Salta, Argentina",
      "Cnel. Miguel Di Pascuo 2965, Salta, Argentina",
      "Leguizamón 812, A4400 Salta, Argentina",
      "Laprida 145, Salta, Argentina",
      "Balcarce 252, A4400 Salta, Argentina",
      "Av. San Martín 780, Salta, Argentina"
   ],
   "origin_addresses" : [
      "Tomas iriarte 2456, Salta, Argentina",
      "Av. Entre Ríos 865, A4400 Salta, Argentina",
      "Cnel. Miguel Di Pascuo 2965, Salta, Argentina",
      "Leguizamón 812, A4400 Salta, Argentina",
      "Laprida 145, Salta, Argentina",
      "Balcarce 252, A4400 Salta, Argentina",
      "Av. San Martín 780, Salta, Argentina"
   ],
   "rows" : [
      {
         "elements" : [
            {
               "distance" : {
                  "text" : "3.6 km",
                  "value" : 3608
               },
               "duration" : {
                  "text" : "10 mins",
                  "value" : 591
               },
               "status" : "OK"
            },
            {
               "distance" : {
                  "text" : "0.5 km",
                  "value" : 478
               },
               "duration" : {
                  "text" : "1 min",
                  "value" : 65
               },
               "status" : "OK"
            },
            {
               "distance" : {
                  "text" : "4.0 km",
                  "value" : 4014
               },
               "duration" : {
                  "text" : "11 mins",
                  "value" : 684
               },
               "status" : "OK"
            },
            {
               "distance" : {
                  "text" : "3.7 km",
                  "value" : 3717
               },
               "duration" : {
                  "text" : "9 mins",
                  "value" : 551
               },
               "status" : "OK"
            },
            {
               "distance" : {
                  "text" : "4.5 km",
                  "value" : 4534
               },
               "duration" : {
                  "text" : "12 mins",
                  "value" : 713
               },
               "status" : "OK"
            },
            {
               "distance" : {
                  "text" : "5.3 km",
                  "value" : 5332
               },
               "duration" : {
                  "text" : "14 mins",
                  "value" : 858
               },
               "status" : "OK"
            }
         ]
      },
      {
         "elements" : [
            {
               "distance" : {
                  "text" : "1 m",
                  "value" : 0
               },
               "duration" : {
                  "text" : "1 min",
                  "value" : 0
               },
               "status" : "OK"
            },
            {
               "distance" : {
                  "text" : "3.6 km",
                  "value" : 3554
               },
               "duration" : {
                  "text" : "11 mins",
                  "value" : 636
               },
               "status" : "OK"
            },
            {
               "distance" : {
                  "text" : "0.4 km",
                  "value" : 406
               },
               "duration" : {
                  "text" : "2 mins",
                  "value" : 93
               },
               "status" : "OK"
            },
            {
               "distance" : {
                  "text" : "2.4 km",
                  "value" : 2351
               },
               "duration" : {
                  "text" : "8 mins",
                  "value" : 465
               },
               "status" : "OK"
            },
            {
               "distance" : {
                  "text" : "0.9 km",
                  "value" : 925
               },
               "duration" : {
                  "text" : "4 mins",
                  "value" : 239
               },
               "status" : "OK"
            },
            {
               "distance" : {
                  "text" : "2.5 km",
                  "value" : 2533
               },
               "duration" : {
                  "text" : "10 mins",
                  "value" : 575
               },
               "status" : "OK"
            }
         ]
      },
      {
         "elements" : [
            {
               "distance" : {
                  "text" : "3.4 km",
                  "value" : 3382
               },
               "duration" : {
                  "text" : "9 mins",
                  "value" : 569
               },
               "status" : "OK"
            },
            {
               "distance" : {
                  "text" : "1 m",
                  "value" : 0
               },
               "duration" : {
                  "text" : "1 min",
                  "value" : 0
               },
               "status" : "OK"
            },
            {
               "distance" : {
                  "text" : "3.8 km",
                  "value" : 3788
               },
               "duration" : {
                  "text" : "11 mins",
                  "value" : 662
               },
               "status" : "OK"
            },
            {
               "distance" : {
                  "text" : "3.5 km",
                  "value" : 3491
               },
               "duration" : {
                  "text" : "9 mins",
                  "value" : 529
               },
               "status" : "OK"
            },
            {
               "distance" : {
                  "text" : "4.3 km",
                  "value" : 4309
               },
               "duration" : {
                  "text" : "12 mins",
                  "value" : 691
               },
               "status" : "OK"
            },
            {
               "distance" : {
                  "text" : "5.7 km",
                  "value" : 5723
               },
               "duration" : {
                  "text" : "15 mins",
                  "value" : 912
               },
               "status" : "OK"
            }
         ]
      },
      {
         "elements" : [
            {
               "distance" : {
                  "text" : "0.4 km",
                  "value" : 424
               },
               "duration" : {
                  "text" : "2 mins",
                  "value" : 107
               },
               "status" : "OK"
            },
            {
               "distance" : {
                  "text" : "3.7 km",
                  "value" : 3693
               },
               "duration" : {
                  "text" : "10 mins",
                  "value" : 605
               },
               "status" : "OK"
            },
            {
               "distance" : {
                  "text" : "1 m",
                  "value" : 0
               },
               "duration" : {
                  "text" : "1 min",
                  "value" : 0
               },
               "status" : "OK"
            },
            {
               "distance" : {
                  "text" : "1.9 km",
                  "value" : 1945
               },
               "duration" : {
                  "text" : "6 mins",
                  "value" : 372
               },
               "status" : "OK"
            },
            {
               "distance" : {
                  "text" : "1.1 km",
                  "value" : 1070
               },
               "duration" : {
                  "text" : "4 mins",
                  "value" : 254
               },
               "status" : "OK"
            },
            {
               "distance" : {
                  "text" : "2.1 km",
                  "value" : 2110
               },
               "duration" : {
                  "text" : "9 mins",
                  "value" : 566
               },
               "status" : "OK"
            }
         ]
      },
      {
         "elements" : [
            {
               "distance" : {
                  "text" : "2.2 km",
                  "value" : 2247
               },
               "duration" : {
                  "text" : "7 mins",
                  "value" : 444
               },
               "status" : "OK"
            },
            {
               "distance" : {
                  "text" : "4.2 km",
                  "value" : 4238
               },
               "duration" : {
                  "text" : "10 mins",
                  "value" : 590
               },
               "status" : "OK"
            },
            {
               "distance" : {
                  "text" : "2.4 km",
                  "value" : 2428
               },
               "duration" : {
                  "text" : "9 mins",
                  "value" : 515
               },
               "status" : "OK"
            },
            {
               "distance" : {
                  "text" : "1 m",
                  "value" : 0
               },
               "duration" : {
                  "text" : "1 min",
                  "value" : 0
               },
               "status" : "OK"
            },
            {
               "distance" : {
                  "text" : "1.8 km",
                  "value" : 1840
               },
               "duration" : {
                  "text" : "6 mins",
                  "value" : 383
               },
               "status" : "OK"
            },
            {
               "distance" : {
                  "text" : "1.9 km",
                  "value" : 1887
               },
               "duration" : {
                  "text" : "7 mins",
                  "value" : 411
               },
               "status" : "OK"
            }
         ]
      },
      {
         "elements" : [
            {
               "distance" : {
                  "text" : "1.0 km",
                  "value" : 1012
               },
               "duration" : {
                  "text" : "4 mins",
                  "value" : 239
               },
               "status" : "OK"
            },
            {
               "distance" : {
                  "text" : "4.2 km",
                  "value" : 4245
               },
               "duration" : {
                  "text" : "12 mins",
                  "value" : 727
               },
               "status" : "OK"
            },
            {
               "distance" : {
                  "text" : "0.6 km",
                  "value" : 588
               },
               "duration" : {
                  "text" : "2 mins",
                  "value" : 132
               },
               "status" : "OK"
            },
            {
               "distance" : {
                  "text" : "2.0 km",
                  "value" : 1991
               },
               "duration" : {
                  "text" : "7 mins",
                  "value" : 407
               },
               "status" : "OK"
            },
            {
               "distance" : {
                  "text" : "1 m",
                  "value" : 0
               },
               "duration" : {
                  "text" : "1 min",
                  "value" : 0
               },
               "status" : "OK"
            },
            {
               "distance" : {
                  "text" : "1.6 km",
                  "value" : 1579
               },
               "duration" : {
                  "text" : "8 mins",
                  "value" : 481
               },
               "status" : "OK"
            }
         ]
      },
      {
         "elements" : [
            {
               "distance" : {
                  "text" : "1.6 km",
                  "value" : 1601
               },
               "duration" : {
                  "text" : "7 mins",
                  "value" : 436
               },
               "status" : "OK"
            },
            {
               "distance" : {
                  "text" : "5.2 km",
                  "value" : 5151
               },
               "duration" : {
                  "text" : "12 mins",
                  "value" : 743
               },
               "status" : "OK"
            },
            {
               "distance" : {
                  "text" : "1.7 km",
                  "value" : 1734
               },
               "duration" : {
                  "text" : "8 mins",
                  "value" : 461
               },
               "status" : "OK"
            },
            {
               "distance" : {
                  "text" : "1.4 km",
                  "value" : 1356
               },
               "duration" : {
                  "text" : "4 mins",
                  "value" : 251
               },
               "status" : "OK"
            },
            {
               "distance" : {
                  "text" : "1.2 km",
                  "value" : 1195
               },
               "duration" : {
                  "text" : "6 mins",
                  "value" : 333
               },
               "status" : "OK"
            },
            {
               "distance" : {
                  "text" : "1 m",
                  "value" : 0
               },
               "duration" : {
                  "text" : "1 min",
                  "value" : 0
               },
               "status" : "OK"
            }
         ]
      }
   ],
   "status" : "OK"
}

# Recibimos el JSON y lo recorremos para dar un recorrido a través de las distancias o tiempos entre las direcciones.

# Obtendremos los tiempos o las distancias según se prefiera con en la key 'duration' or 'distance' del 
# diccionario desde cada dirección y tomaremos el mínimo.

# Agregaremos la dirección correspondiente al mínimo seleccionado a la lista recorrido buscandola con la key
# "destination_addresses".

# Nota: Solo se podrá evaluar una dirección si no se encuentra en la lista recorrido para evitar que se repita.


longitud = len(answer["destination_addresses"]) - 1
listatiempo = []
listarecorrido = []
listarecorrido.append(answer["destination_addresses"][0])
tiempo = 0
direccion = 0




while len(listarecorrido) <= longitud :
    listatiempo.clear()
    
    for i in range(len(answer["rows"][direccion]["elements"])):

        h = answer["rows"][direccion]["elements"][i]["distance"]["value"]
        listatiempo.append(h)

    listaminimos = []
    
    for h, m in enumerate(listatiempo):
        
        if answer["destination_addresses"][h] not in listarecorrido:
            listaminimos.append(m)
    
    minimo = min(listaminimos)

    tiempo += minimo
    index = listatiempo.index(minimo)
    listarecorrido.append(answer["destination_addresses"][index])
    direccion = index

    
# Imprimimos el recorrido obtenido y si queremos el tiempo en segundos o metros respectivamente.

print(listarecorrido)  
print(tiempo,"s")


# Google Maps no posee un generador de links de recorridos así que generaremos los nuestros con esta función.

def Link(cadena):
   '''
   Está función recibe la lista recorrido obtenida, y le da el formato HTML necesario, devolviendo un link del 
   recorrido.
   '''
   base = "https://www.google.com/maps/dir/"
   formatodestinos = cadena

   fdestinos = ""
   for i in formatodestinos:
      fdestinos = fdestinos + i + "/"
      
      fdestinos = fdestinos.replace(" ","+")
      
      urlrecorrido = base + fdestinos
   print(urlrecorrido)
   